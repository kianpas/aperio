# ì‹¤ë¬´ ê´€ì ì—ì„œì˜ ì—­í• /ê¶Œí•œ êµ¬ì¡° ë¶„ì„

## í˜„ì¬ í”„ë¡œì íŠ¸ ì‚¬ìš© íŒ¨í„´ ë¶„ì„

### ğŸ” ì‚¬ìš©ì ê´€ì ì—ì„œì˜ ì—­í• /ê¶Œí•œ ì‚¬ìš©
1. **User ì—”í‹°í‹°**: Spring Security ì¸ì¦/ì¸ê°€ì—ì„œ ì—­í•  ì •ë³´ ì‚¬ìš©
2. **UserService**: íšŒì›ê°€ì… ì‹œ ê¸°ë³¸ ì—­í•  í• ë‹¹ (ROLE_USER, ROLE_STAFF)
3. **Menu ì„œë¹„ìŠ¤**: ì‚¬ìš©ì ì—­í• ì— ë”°ë¥¸ ë©”ë‰´ í•„í„°ë§
4. **ì¸ì¦/ì¸ê°€**: ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ @PreAuthorize ë“±ìœ¼ë¡œ ê¶Œí•œ ì²´í¬

### ğŸ” ê´€ë¦¬ì ê´€ì ì—ì„œì˜ ì—­í• /ê¶Œí•œ ì‚¬ìš©
1. **AdminRoleController**: ì—­í•  CRUD ê´€ë¦¬
2. **AdminPermissionController**: ê¶Œí•œ CRUD ê´€ë¦¬
3. **AdminRolePermissionController**: ì—­í• -ê¶Œí•œ ë§¤í•‘ ê´€ë¦¬

## ì‹¤ë¬´ì—ì„œì˜ ì¼ë°˜ì ì¸ êµ¬ì¡° íŒ¨í„´

### íŒ¨í„´ 1: ë³´ì•ˆ ì¤‘ì‹¬ êµ¬ì¡° (ëŒ€ê¸°ì—…/ê¸ˆìœµê¶Œ)
```
src/main/java/com/company/project/
â”œâ”€â”€ security/                    # ë³´ì•ˆ ë„ë©”ì¸
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ Role.java
â”‚   â”‚   â”œâ”€â”€ Permission.java
â”‚   â”‚   â”œâ”€â”€ RolePermission.java
â”‚   â”‚   â”œâ”€â”€ UserRole.java
â”‚   â”‚   â””â”€â”€ MenuRole.java
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ AuthenticationService.java
â”‚   â”‚   â”œâ”€â”€ AuthorizationService.java
â”‚   â”‚   â””â”€â”€ RoleManagementService.java
â”‚   â””â”€â”€ repository/
â”œâ”€â”€ admin/
â”‚   â””â”€â”€ security/                # ê´€ë¦¬ì ë³´ì•ˆ ê´€ë¦¬
â”‚       â”œâ”€â”€ controller/
â”‚       â”œâ”€â”€ service/
â”‚       â””â”€â”€ dto/
â””â”€â”€ user/
    â”œâ”€â”€ domain/User.java
    â””â”€â”€ service/UserService.java
```

**íŠ¹ì§•:**
- ë³´ì•ˆ ê´€ë ¨ ëª¨ë“  ë¡œì§ì´ security íŒ¨í‚¤ì§€ì— ì§‘ì¤‘
- ì—„ê²©í•œ ê¶Œí•œ ê´€ë¦¬ (RBAC, ABAC ë“±)
- ë³µì¡í•œ ê¶Œí•œ ì²´ê³„ (ë¶€ì„œë³„, í”„ë¡œì íŠ¸ë³„ ê¶Œí•œ)

### íŒ¨í„´ 2: ë„ë©”ì¸ ë¶„ì‚° êµ¬ì¡° (ì¤‘ê²¬ê¸°ì—…/SI)
```
src/main/java/com/company/project/
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â””â”€â”€ UserRole.java        # User ë„ë©”ì¸ ì†Œìœ 
â”‚   â””â”€â”€ service/UserRoleService.java
â”œâ”€â”€ role/
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ Role.java
â”‚   â”‚   â”œâ”€â”€ Permission.java
â”‚   â”‚   â””â”€â”€ RolePermission.java
â”‚   â””â”€â”€ service/RoleService.java
â”œâ”€â”€ menu/
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ Menu.java
â”‚   â”‚   â””â”€â”€ MenuRole.java        # Menu ë„ë©”ì¸ ì†Œìœ 
â”‚   â””â”€â”€ service/MenuService.java
â””â”€â”€ admin/
    â”œâ”€â”€ role/                    # ê´€ë¦¬ì ì—­í•  ê´€ë¦¬
    â”œâ”€â”€ permission/              # ê´€ë¦¬ì ê¶Œí•œ ê´€ë¦¬
    â””â”€â”€ user/                    # ê´€ë¦¬ì ì‚¬ìš©ì ê´€ë¦¬
```

**íŠ¹ì§•:**
- ê° ë„ë©”ì¸ì´ ìì‹ ì˜ ì—­í•  ê´€ê³„ë¥¼ ì†Œìœ 
- ë„ë©”ì¸ ê°„ ë…ë¦½ì„± ë†’ìŒ
- MSA ì „í™˜ ì‹œ ìœ ë¦¬

### íŒ¨í„´ 3: ê³µí†µ ë„ë©”ì¸ êµ¬ì¡° (ìŠ¤íƒ€íŠ¸ì—…/ì¤‘ì†Œê¸°ì—…) â­
```
src/main/java/com/company/project/
â”œâ”€â”€ common/
â”‚   â”œâ”€â”€ domain/                  # ê³µí†µ ì—”í‹°í‹°
â”‚   â”‚   â”œâ”€â”€ Role.java
â”‚   â”‚   â”œâ”€â”€ Permission.java
â”‚   â”‚   â”œâ”€â”€ RolePermission.java
â”‚   â”‚   â”œâ”€â”€ UserRole.java
â”‚   â”‚   â””â”€â”€ MenuRole.java
â”‚   â””â”€â”€ service/                 # ê³µí†µ ì„œë¹„ìŠ¤
â”‚       â”œâ”€â”€ RoleService.java
â”‚       â””â”€â”€ PermissionService.java
â”œâ”€â”€ admin/                       # ê´€ë¦¬ì ê¸°ëŠ¥
â”‚   â”œâ”€â”€ role/
â”‚   â”œâ”€â”€ permission/
â”‚   â””â”€â”€ user/
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ domain/User.java
â”‚   â””â”€â”€ service/UserService.java # ì—­í•  í• ë‹¹ ë¡œì§ í¬í•¨
â””â”€â”€ menu/
    â”œâ”€â”€ domain/Menu.java
    â””â”€â”€ service/MenuService.java  # ì—­í•  ê¸°ë°˜ í•„í„°ë§
```

**íŠ¹ì§•:**
- ë¹ ë¥¸ ê°œë°œê³¼ ìœ ì§€ë³´ìˆ˜ ì¤‘ì‹œ
- ê³µí†µ ë¡œì§ ì¤‘ì•™í™”
- í˜„ì¬ í”„ë¡œì íŠ¸ì™€ ê°€ì¥ ìœ ì‚¬

### íŒ¨í„´ 4: í•˜ì´ë¸Œë¦¬ë“œ êµ¬ì¡° (ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸)
```
src/main/java/com/company/project/
â”œâ”€â”€ core/
â”‚   â””â”€â”€ security/                # í•µì‹¬ ë³´ì•ˆ ë„ë©”ì¸
â”‚       â”œâ”€â”€ domain/
â”‚       â”‚   â”œâ”€â”€ Role.java
â”‚       â”‚   â””â”€â”€ Permission.java
â”‚       â””â”€â”€ service/
â”œâ”€â”€ integration/                 # ì—°ê²° ì—”í‹°í‹° ì „ìš©
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ UserRole.java
â”‚   â”‚   â”œâ”€â”€ MenuRole.java
â”‚   â”‚   â””â”€â”€ RolePermission.java
â”‚   â””â”€â”€ service/
â”œâ”€â”€ admin/                       # ê´€ë¦¬ì ê¸°ëŠ¥
â”‚   â”œâ”€â”€ security/
â”‚   â””â”€â”€ user/
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ domain/User.java
â”‚   â””â”€â”€ service/UserService.java
â””â”€â”€ menu/
    â”œâ”€â”€ domain/Menu.java
    â””â”€â”€ service/MenuService.java
```

## ì‹¤ë¬´ ì„ íƒ ê¸°ì¤€

### í”„ë¡œì íŠ¸ ê·œëª¨ë³„ ê¶Œì¥
| ê·œëª¨ | íŒ€ í¬ê¸° | ê¶Œì¥ íŒ¨í„´ | ì´ìœ  |
|------|---------|-----------|------|
| ì†Œê·œëª¨ | 1-3ëª… | íŒ¨í„´ 3 (ê³µí†µ) | ë¹ ë¥¸ ê°œë°œ, ë‹¨ìˆœí•œ êµ¬ì¡° |
| ì¤‘ê·œëª¨ | 4-10ëª… | íŒ¨í„´ 2 (ë¶„ì‚°) | ë„ë©”ì¸ ë…ë¦½ì„±, í™•ì¥ì„± |
| ëŒ€ê·œëª¨ | 10ëª…+ | íŒ¨í„´ 1 (ë³´ì•ˆì¤‘ì‹¬) | ë³µì¡í•œ ê¶Œí•œ, ë³´ì•ˆ ì¤‘ì‹œ |
| ì—”í„°í”„ë¼ì´ì¦ˆ | 20ëª…+ | íŒ¨í„´ 4 (í•˜ì´ë¸Œë¦¬ë“œ) | ìµœê³  í™•ì¥ì„±, MSA ëŒ€ë¹„ |

### ì—…ì¢…ë³„ ì„ í˜¸ë„
| ì—…ì¢… | ì„ í˜¸ íŒ¨í„´ | íŠ¹ì§• |
|------|-----------|------|
| ê¸ˆìœµ/ë³´í—˜ | íŒ¨í„´ 1 | ì—„ê²©í•œ ë³´ì•ˆ, ê°ì‚¬ ëŒ€ì‘ |
| ì´ì»¤ë¨¸ìŠ¤ | íŒ¨í„´ 2 | ë„ë©”ì¸ ë³µì¡ì„±, í™•ì¥ì„± |
| ìŠ¤íƒ€íŠ¸ì—… | íŒ¨í„´ 3 | ë¹ ë¥¸ ê°œë°œ, MVP ì¤‘ì‹¬ |
| SI/ì†”ë£¨ì…˜ | íŒ¨í„´ 3 | ë²”ìš©ì„±, ì»¤ìŠ¤í„°ë§ˆì´ì§• |

## í˜„ì¬ í”„ë¡œì íŠ¸ ë¶„ì„

### í˜„ì¬ êµ¬ì¡°ì˜ ì¥ì 
1. âœ… **ì‹¤ìš©ì **: ê³µìœ ì˜¤í”¼ìŠ¤ë¼ëŠ” ë„ë©”ì¸ì— ì í•©
2. âœ… **ë‹¨ìˆœí•¨**: ë³µì¡í•˜ì§€ ì•Šì€ ê¶Œí•œ ì²´ê³„
3. âœ… **í™•ì¥ ê°€ëŠ¥**: í•„ìš”ì‹œ ë¶„ë¦¬ ê°€ëŠ¥í•œ êµ¬ì¡°
4. âœ… **íŒ€ ì¹œí™”ì **: ì†Œê·œëª¨ íŒ€ì— ì í•©

### ê°œì„  ë°©í–¥
1. **ë‹¨ê¸°**: í˜„ì¬ êµ¬ì¡° ìœ ì§€ + ì„œë¹„ìŠ¤ ê³„ì¸µ ì •ë¦¬
2. **ì¤‘ê¸°**: ì—­í•  ë„ë©”ì¸ ë¶„ë¦¬ ê³ ë ¤
3. **ì¥ê¸°**: ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ íŒ¨í„´ 1 ê³ ë ¤

## ê²°ë¡ : í˜„ì¬ í”„ë¡œì íŠ¸ì— ìµœì ì¸ êµ¬ì¡°

### ê¶Œì¥: íŒ¨í„´ 3 (ê³µí†µ ë„ë©”ì¸) ê°œì„ 
```
src/main/java/com/wb/between/
â”œâ”€â”€ common/
â”‚   â”œâ”€â”€ domain/                  # ì—­í• /ê¶Œí•œ ì—”í‹°í‹°
â”‚   â”‚   â”œâ”€â”€ Role.java
â”‚   â”‚   â”œâ”€â”€ Permission.java
â”‚   â”‚   â”œâ”€â”€ RolePermission.java
â”‚   â”‚   â”œâ”€â”€ UserRole.java
â”‚   â”‚   â””â”€â”€ MenuRole.java
â”‚   â””â”€â”€ service/                 # ê³µí†µ ì„œë¹„ìŠ¤ ì¶”ê°€
â”‚       â”œâ”€â”€ RoleService.java     # ì—­í•  ê´€ë¦¬ ê³µí†µ ë¡œì§
â”‚       â””â”€â”€ PermissionService.java
â”œâ”€â”€ admin/                       # ê´€ë¦¬ì ê¸°ëŠ¥ (ê¸°ì¡´ ìœ ì§€)
â”‚   â”œâ”€â”€ role/
â”‚   â”œâ”€â”€ permission/
â”‚   â””â”€â”€ rolepermission/
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ domain/User.java
â”‚   â””â”€â”€ service/UserService.java # ì—­í•  í• ë‹¹ ë¡œì§
â””â”€â”€ menu/
    â”œâ”€â”€ domain/Menu.java
    â””â”€â”€ service/MenuService.java  # ì—­í•  ê¸°ë°˜ í•„í„°ë§
```

**ì´ìœ :**
1. ğŸ¯ **í˜„ì¬ ì‚¬ìš© íŒ¨í„´ê³¼ ì¼ì¹˜**: ì‚¬ìš©ì/ê´€ë¦¬ì ëª¨ë‘ ê³µí†µ ì—”í‹°í‹° ì‚¬ìš©
2. ğŸ¯ **ì‹¤ë¬´ì—ì„œ ê²€ì¦ëœ êµ¬ì¡°**: ì¤‘ì†Œê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œ ë„ë¦¬ ì‚¬ìš©
3. ğŸ¯ **ìµœì†Œ ë³€ê²½ìœ¼ë¡œ ìµœëŒ€ íš¨ê³¼**: ê¸°ì¡´ ì½”ë“œ ì˜í–¥ ìµœì†Œí™”
4. ğŸ¯ **í™•ì¥ì„± í™•ë³´**: í•„ìš”ì‹œ ë‹¤ë¥¸ íŒ¨í„´ìœ¼ë¡œ ë°œì „ ê°€ëŠ¥